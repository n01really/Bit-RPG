<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
               xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
               xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
               x:Class="Bit_RPG.JobsPopup"
               Size="600,700">
    <Border Stroke="Gray"
            StrokeThickness="2"
            Background="{AppThemeBinding Light=White, Dark=#1E1E1E}"
            Padding="0"
            Margin="10">
        <Border.WidthRequest>
            <OnPlatform x:TypeArguments="x:Double">
                <On Platform="Android" Value="360" />
                <On Platform="iOS" Value="360" />
                <On Platform="WinUI" Value="420" />
            </OnPlatform>
        </Border.WidthRequest>
        <Border.HeightRequest>
            <OnPlatform x:TypeArguments="x:Double">
                <On Platform="Android" Value="620" />
                <On Platform="iOS" Value="620" />
                <On Platform="WinUI" Value="650" />
            </OnPlatform>
        </Border.HeightRequest>
        
        <Grid RowDefinitions="Auto,*,Auto" RowSpacing="0">
            
            <!-- Header -->
            <Grid Grid.Row="0" 
                  Padding="20,16"
                  BackgroundColor="{StaticResource Primary}">
                <Label Text="ðŸ’¼ Guild Jobs"
                       TextColor="White"
                       FontSize="22"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"/>
            </Grid>

            <!-- Content -->
            <ScrollView Grid.Row="1">
                <VerticalStackLayout Spacing="0" Padding="16">
                    
                    <!-- Current Job Info -->
                    <Border x:Name="CurrentJobInfo" 
                            Stroke="{StaticResource Primary}"
                            StrokeThickness="2"
                            Padding="16"
                            Margin="0,0,0,16"
                            BackgroundColor="{AppThemeBinding Light=#F0F8FF, Dark=#1A2A3A}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="8"/>
                        </Border.StrokeShape>
                        <VerticalStackLayout Spacing="8">
                            <Label Text="Current Job"
                                   FontSize="14"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource Primary}"/>
                            <HorizontalStackLayout Spacing="8">
                                <Label Text="{Binding Jobb.Name}" FontSize="16" FontAttributes="Bold"/>
                                <Label Text="â€¢" FontSize="16"/>
                                <Label Text="{Binding Jobb.Rank, StringFormat='Rank {0}'}" 
                                       FontSize="16" 
                                       FontAttributes="Bold"
                                       TextColor="{StaticResource Primary}"/>
                            </HorizontalStackLayout>
                            <Label x:Name="RankProgress" FontSize="13" TextColor="Gray"/>
                        </VerticalStackLayout>
                    </Border>
                    
                    <Label Text="Available Guilds" 
                           FontSize="16" 
                           FontAttributes="Bold" 
                           Margin="0,8,0,12"/>
                    
                    <!-- Adventurer's Guild -->
                    <Border x:Name="AdventurersGuildSection" 
                            Stroke="LightGray"
                            StrokeThickness="1"
                            Padding="16"
                            Margin="0,0,0,12"
                            BackgroundColor="{AppThemeBinding Light=White, Dark=#1E1E1E}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="8"/>
                        </Border.StrokeShape>
                        <VerticalStackLayout Spacing="8">
                            <Label Text="âš”ï¸ Adventurer's Guild"
                                   FontSize="16"
                                   FontAttributes="Bold"/>
                            <Label Text="Take on quests and explore dangerous dungeons to earn rewards and fame."
                                   FontSize="13"
                                   LineBreakMode="WordWrap"
                                   TextColor="Gray"/>
                            <Button x:Name="AdventurersGuildButton"
                                    Text="Select Job"
                                    Clicked="OnAdventurersGuildClicked"
                                    HeightRequest="44"
                                    FontSize="14"
                                    CornerRadius="8"
                                    Margin="0,8,0,0"/>
                        </VerticalStackLayout>
                    </Border>
                    
                    <!-- Blacksmith's Guild -->
                    <Border x:Name="BlacksmithsGuildSection" 
                            Stroke="LightGray"
                            StrokeThickness="1"
                            Padding="16"
                            Margin="0,0,0,12"
                            BackgroundColor="{AppThemeBinding Light=White, Dark=#1E1E1E}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="8"/>
                        </Border.StrokeShape>
                        <VerticalStackLayout Spacing="8">
                            <Label Text="ðŸ”¨ Blacksmith's Guild"
                                   FontSize="16"
                                   FontAttributes="Bold"/>
                            <Label Text="Craft and repair weapons and armor for adventurers and townsfolk."
                                   FontSize="13"
                                   LineBreakMode="WordWrap"
                                   TextColor="Gray"/>
                            <Button x:Name="BlacksmithsGuildButton"
                                    Text="Select Job"
                                    Clicked="OnBlacksmithsGuildClicked"
                                    HeightRequest="44"
                                    FontSize="14"
                                    CornerRadius="8"
                                    Margin="0,8,0,0"/>
                        </VerticalStackLayout>
                    </Border>
                    
                    <!-- Mage's Guild -->
                    <Border x:Name="MagesGuildSection" 
                            Stroke="LightGray"
                            StrokeThickness="1"
                            Padding="16"
                            Margin="0,0,0,12"
                            BackgroundColor="{AppThemeBinding Light=White, Dark=#1E1E1E}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="8"/>
                        </Border.StrokeShape>
                        <VerticalStackLayout Spacing="8">
                            <Label Text="âœ¨ Mage's Guild"
                                   FontSize="16"
                                   FontAttributes="Bold"/>
                            <Label Text="Study and practice the arcane arts, offering magical services to those in need."
                                   FontSize="13"
                                   LineBreakMode="WordWrap"
                                   TextColor="Gray"/>
                            <Button x:Name="MagesGuildButton"
                                    Text="Select Job"
                                    Clicked="OnMagesGuildClicked"
                                    HeightRequest="44"
                                    FontSize="14"
                                    CornerRadius="8"
                                    Margin="0,8,0,0"/>
                        </VerticalStackLayout>
                    </Border>
                    
                    <!-- Thieves Guild -->
                    <Border x:Name="ThievesGuildSection" 
                            Stroke="LightGray"
                            StrokeThickness="1"
                            Padding="16"
                            Margin="0,0,0,12"
                            BackgroundColor="{AppThemeBinding Light=White, Dark=#1E1E1E}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="8"/>
                        </Border.StrokeShape>
                        <VerticalStackLayout Spacing="8">
                            <Label Text="ðŸ—¡ï¸ Thieves Guild"
                                   FontSize="16"
                                   FontAttributes="Bold"/>
                            <Label Text="Engage in stealthy activities, from pickpocketing to high-stakes heists."
                                   FontSize="13"
                                   LineBreakMode="WordWrap"
                                   TextColor="Gray"/>
                            <Button x:Name="ThievesGuildButton"
                                    Text="Select Job"
                                    Clicked="OnThievesGuildClicked"
                                    HeightRequest="44"
                                    FontSize="14"
                                    CornerRadius="8"
                                    Margin="0,8,0,0"/>
                        </VerticalStackLayout>
                    </Border>
                    
                </VerticalStackLayout>
            </ScrollView>
            
            <!-- Footer Button -->
            <Border Grid.Row="2"
                    BackgroundColor="{AppThemeBinding Light=#F5F5F5, Dark=#2C2C2C}"
                    Padding="16">
                <Button Text="Close"
                        Clicked="OnCloseClicked"
                        HorizontalOptions="Fill"
                        HeightRequest="48"
                        FontSize="16"
                        FontAttributes="Bold"
                        CornerRadius="8"/>
            </Border>
        </Grid>
    </Border>
</toolkit:Popup>
