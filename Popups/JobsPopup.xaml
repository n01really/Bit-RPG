<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
               xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
               xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
               x:Class="Bit_RPG.JobsPopup">
    <Border Stroke="Gray"
            StrokeThickness="2"
            Background="{AppThemeBinding Light=White, Dark=#1E1E1E}"
            Padding="15"
            MaximumWidthRequest="450"
            MaximumHeightRequest="650"
            WidthRequest="380"
            HeightRequest="550"
            Margin="10">
        <Grid RowDefinitions="Auto,Auto,Auto,*,Auto" RowSpacing="12">
            <Label Grid.Row="0"
                   Text="Jobs"
                   FontSize="20"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"/>
            
            <BoxView Grid.Row="1"
                     HeightRequest="1"
                     Color="Gray"/>

            <!-- Current Job Info -->
            <VerticalStackLayout Grid.Row="2" x:Name="CurrentJobInfo" Spacing="4">
                <Label Text="Current Job"
                       FontSize="14"
                       FontAttributes="Bold"/>
                <HorizontalStackLayout Spacing="8">
                    <Label Text="{Binding Jobb.Name}" FontSize="12"/>
                    <Label Text="-" FontSize="12"/>
                    <Label Text="{Binding Jobb.Rank, StringFormat='Rank: {0}'}" FontSize="12" FontAttributes="Bold"/>
                </HorizontalStackLayout>
                <Label x:Name="RankProgress" FontSize="11" TextColor="Gray"/>
                <BoxView HeightRequest="1" Color="Gray" Margin="0,4"/>
            </VerticalStackLayout>
            
            <ScrollView Grid.Row="3">
                <VerticalStackLayout Spacing="8">
                    <VerticalStackLayout x:Name="AdventurersGuildSection" Spacing="6">
                        <Label Text="Adventurer's Guild"
                               FontSize="15"
                               FontAttributes="Bold"/>
                        <Label Text="Take on quests and explore dangerous dungeons to earn rewards and fame."
                               FontSize="11"
                               LineBreakMode="WordWrap"/>
                        <Button x:Name="AdventurersGuildButton"
                                Text="Select Job"
                                Clicked="OnAdventurersGuildClicked"
                                Padding="15,6"
                                HorizontalOptions="End"
                                Margin="0,4,0,0"/>
                        
                        <BoxView HeightRequest="1" Color="LightGray" Margin="0,6"/>
                    </VerticalStackLayout>
                    
                    <VerticalStackLayout x:Name="BlacksmithsGuildSection" Spacing="6">
                        <Label Text="Blacksmith's Guild"
                               FontSize="15"
                               FontAttributes="Bold"/>
                        <Label Text="Craft and repair weapons and armor for adventurers and townsfolk."
                               FontSize="11"
                               LineBreakMode="WordWrap"/>
                        <Button x:Name="BlacksmithsGuildButton"
                                Text="Select Job"
                                Clicked="OnBlacksmithsGuildClicked"
                                Padding="15,6"
                                HorizontalOptions="End"
                                Margin="0,4,0,0"/>
                        
                        <BoxView HeightRequest="1" Color="LightGray" Margin="0,6"/>
                    </VerticalStackLayout>
                    
                    <VerticalStackLayout x:Name="MagesGuildSection" Spacing="6">
                        <Label Text="Mage's Guild"
                               FontSize="15"
                               FontAttributes="Bold"/>
                        <Label Text="Study and practice the arcane arts, offering magical services to those in need."
                               FontSize="11"
                               LineBreakMode="WordWrap"/>
                        <Button x:Name="MagesGuildButton"
                                Text="Select Job"
                                Clicked="OnMagesGuildClicked"
                                Padding="15,6"
                                HorizontalOptions="End"
                                Margin="0,4,0,0"/>
                        
                        <BoxView HeightRequest="1" Color="LightGray" Margin="0,6"/>
                    </VerticalStackLayout>
                    
                    <VerticalStackLayout x:Name="ThievesGuildSection" Spacing="6">
                        <Label Text="Thieves Guild"
                               FontSize="15"
                               FontAttributes="Bold"/>
                        <Label Text="Engage in stealthy activities, from pickpocketing to high-stakes heists."
                               FontSize="11"
                               LineBreakMode="WordWrap"/>
                        <Button x:Name="ThievesGuildButton"
                                Text="Select Job"
                                Clicked="OnThievesGuildClicked"
                                Padding="15,6"
                                HorizontalOptions="End"
                                Margin="0,4,0,0"/>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </ScrollView>
            
            <Button Grid.Row="4"
                    Text="Close"
                    Clicked="OnCloseClicked"
                    HorizontalOptions="Center"
                    Padding="20,8"
                    Margin="0,8,0,0"/>
        </Grid>
    </Border>
</toolkit:Popup>
