<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="Bit_RPG.GamePage"
             Title="GamePage">
    <VerticalStackLayout
        Padding="15,0"
        Spacing="15">
        
        <!-- Player Information and Week Panel -->
        <Border Stroke="Gray"
                StrokeThickness="1"
                Padding="8"
                Margin="0,5,0,0">
            <ScrollView Orientation="Horizontal" HorizontalScrollBarVisibility="Never">
                <HorizontalStackLayout Spacing="10">
                    <Label Text="{Binding Player.PlayerName, StringFormat='Name: {0}'}"
                           FontSize="10"
                           FontAttributes="Bold"/>
                    <Label Text="{Binding Player.Age, StringFormat='Age: {0}'}"
                           FontSize="10"/>
                    <Label Text="{Binding Player.Race, StringFormat='Race: {0}'}"
                           FontSize="10"/>
                    <Label Text="{Binding Player.Class, StringFormat='Class: {0}'}"
                           FontSize="10"/>
                    <Label Text="{Binding Player.Money, StringFormat='Gold: {0}'}"
                           FontSize="10"/>
                    <Label Text="{Binding Player.Level, StringFormat='Lvl: {0}'}"
                           FontSize="10"
                           FontAttributes="Bold"/>
                    <Label Text="{Binding Player.Experience, StringFormat='XP: {0}'}"
                           FontSize="10"/>
                    <Label Text="{Binding Player.ExperienceForNextLevel, StringFormat='Next: {0}'}"
                           FontSize="10"/>
                    <Label FontSize="10"
                           FontAttributes="Bold">
                        <Label.Text>
                            <MultiBinding StringFormat="AP: {0}/{1}">
                                <Binding Path="Player.ActionPoints"/>
                                <Binding Source="12"/>
                            </MultiBinding>
                        </Label.Text>
                    </Label>
                    <Label Text="{Binding Year, StringFormat='Year: {0}'}"
                           FontSize="10"/>
                    <Label Text="{Binding Week, StringFormat='Week: {0}'}"
                           FontSize="10"/>
                </HorizontalStackLayout>
            </ScrollView>
        </Border>

        <Border Stroke="Gray"
                StrokeThickness="1"
                HeightRequest="450"
                Padding="8">
            <ScrollView x:Name="EventScrollView">
                <Label Text="{Binding EventLog}"
                       HorizontalOptions="Center"
                       FontSize="14"
                       LineBreakMode="WordWrap"/>
            </ScrollView>
        </Border>
        
        <!-- All Buttons Layout -->
        <HorizontalStackLayout Spacing="15" 
                              HorizontalOptions="Center"
                              Margin="0,5,0,10">
            
            <!-- Activities Button (Far Left, small circular) -->
            <VerticalStackLayout Spacing="4" HorizontalOptions="Center" VerticalOptions="Center">
                <Border WidthRequest="30"
                        HeightRequest="30"
                        StrokeThickness="0"
                        BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Primary}}">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="15"/>
                    </Border.StrokeShape>
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnActivitiesClicked"/>
                    </Border.GestureRecognizers>
                </Border>
                <Label Text="Activities" 
                       FontSize="9"
                       HorizontalOptions="Center"
                       HorizontalTextAlignment="Center"/>
            </VerticalStackLayout>
            
            <!-- Left Column: Inventory (top) and Character (bottom) -->
            <VerticalStackLayout Spacing="8" HorizontalOptions="Center">
                <!-- Inventory Button -->
                <VerticalStackLayout Spacing="4" HorizontalOptions="Center">
                    <Border WidthRequest="30"
                            HeightRequest="30"
                            StrokeThickness="0"
                            BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Primary}}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="15"/>
                        </Border.StrokeShape>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnInventoryClicked"/>
                        </Border.GestureRecognizers>
                    </Border>
                    <Label Text="Inventory" 
                           FontSize="9"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"/>
                </VerticalStackLayout>
                
                <!-- Character Button -->
                <VerticalStackLayout Spacing="4" HorizontalOptions="Center">
                    <Border WidthRequest="30"
                            HeightRequest="30"
                            StrokeThickness="0"
                            BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Primary}}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="15"/>
                        </Border.StrokeShape>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnCharacterClicked"/>
                        </Border.GestureRecognizers>
                    </Border>
                    <Label Text="Character" 
                           FontSize="9"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"/>
                </VerticalStackLayout>
            </VerticalStackLayout>
            
            <!-- Continue Button (Circular, in the middle, larger) -->
            <Border WidthRequest="70"
                    HeightRequest="70"
                    StrokeThickness="0"
                    BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Primary}}">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="35"/>
                </Border.StrokeShape>
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnForwardGameClicked"/>
                </Border.GestureRecognizers>
                <Label Text="Continue" 
                       TextColor="White"
                       FontSize="11"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"
                       HorizontalTextAlignment="Center"
                       SemanticProperties.Hint="move the week forward by one"/>
            </Border>
            
            <!-- Right Column: Jobs (top) and Quests (bottom) -->
            <VerticalStackLayout Spacing="8" HorizontalOptions="Center">
                <!-- Jobs Button -->
                <VerticalStackLayout Spacing="4" HorizontalOptions="Center">
                    <Border WidthRequest="30"
                            HeightRequest="30"
                            StrokeThickness="0"
                            BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Primary}}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="15"/>
                        </Border.StrokeShape>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnJobsClicked"/>
                        </Border.GestureRecognizers>
                    </Border>
                    <Label Text="Jobs" 
                           FontSize="9"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"/>
                </VerticalStackLayout>
                
                <!-- Quests Button -->
                <VerticalStackLayout Spacing="4" HorizontalOptions="Center">
                    <Border WidthRequest="30"
                            HeightRequest="30"
                            StrokeThickness="0"
                            BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Primary}}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="15"/>
                        </Border.StrokeShape>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnQuestsClicked"/>
                        </Border.GestureRecognizers>
                    </Border>
                    <Label Text="Quests" 
                           FontSize="9"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"/>
                </VerticalStackLayout>
            </VerticalStackLayout>
            
        </HorizontalStackLayout>
    </VerticalStackLayout>
</ContentPage>