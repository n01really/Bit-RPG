<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="Bit_RPG.GamePage"
             Title="GamePage">
    <VerticalStackLayout
        Padding="30,0"
        Spacing="25">
        
        <!-- Player Information and Week Panel -->
        <Border Stroke="Gray"
                StrokeThickness="1"
                Padding="10"
                Margin="0,5,0,0">
            <Grid ColumnDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,*" 
                  ColumnSpacing="15">
                <Label Grid.Column="0"
                       Text="{Binding Player.PlayerName, StringFormat='Name: {0}'}"
                       FontSize="12"
                       FontAttributes="Bold"/>
                <Label Grid.Column="1"
                       Text="{Binding Player.Age, StringFormat='Age: {0}'}"
                       FontSize="12"/>
                <Label Grid.Column="2"
                       Text="{Binding Player.Race, StringFormat='Race: {0}'}"
                       FontSize="12"/>
                <Label Grid.Column="3"
                       Text="{Binding Player.Class, StringFormat='Class: {0}'}"
                       FontSize="12"/>
                <Label Grid.Column="4"
                       Text="{Binding Player.Money, StringFormat='Gold: {0}'}"
                       FontSize="12"/>
                <Label Grid.Column="5"
                       Text="{Binding Player.Level, StringFormat='Lvl: {0}'}"
                       FontSize="12"
                       FontAttributes="Bold"/>
                <Label Grid.Column="6"
                       Text="{Binding Player.Experience, StringFormat='XP: {0}'}"
                       FontSize="12"/>
                <Label Grid.Column="7"
                       Text="{Binding Player.ExperienceForNextLevel, StringFormat='Next: {0}'}"
                       FontSize="12"/>
                <Label Grid.Column="8"
                       Text="{Binding Year, StringFormat='Year: {0}'}"
                       FontSize="12"/>
                <Label Grid.Column="9"
                       Text="{Binding Week, StringFormat='Week: {0}'}"
                       FontSize="12"
                       HorizontalOptions="End"/>
            </Grid>
        </Border>

        <Border
                Stroke="Gray"
                StrokeThickness="1"
                HeightRequest="700"
                Padding="10">
            <ScrollView x:Name="EventScrollView">
                <Label
                        Text="{Binding EventLog}"
                        HorizontalOptions="Center"
                        FontSize="18"/>
            </ScrollView>
        </Border>
        
        <!-- All Buttons Layout -->
        <HorizontalStackLayout Spacing="20" 
                              HorizontalOptions="Center"
                              Margin="0,0,0,0">
            
            <!-- Left Column: Inventory (top) and Character (bottom) -->
            <VerticalStackLayout Spacing="10" HorizontalOptions="Center">
                <!-- Inventory Button -->
                <VerticalStackLayout Spacing="5" HorizontalOptions="Center">
                    <Border WidthRequest="25"
                            HeightRequest="25"
                            StrokeThickness="0"
                            BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Primary}}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="12.5"/>
                        </Border.StrokeShape>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnInventoryClicked"/>
                        </Border.GestureRecognizers>
                    </Border>
                    <Label Text="Inventory" 
                           FontSize="10"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"/>
                </VerticalStackLayout>
                
                <!-- Character Button -->
                <VerticalStackLayout Spacing="5" HorizontalOptions="Center">
                    <Border WidthRequest="25"
                            HeightRequest="25"
                            StrokeThickness="0"
                            BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Primary}}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="12.5"/>
                        </Border.StrokeShape>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnCharacterClicked"/>
                        </Border.GestureRecognizers>
                    </Border>
                    <Label Text="Character" 
                           FontSize="10"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"/>
                </VerticalStackLayout>
            </VerticalStackLayout>
            
            <!-- Continue Button (Circular, in the middle, larger) -->
            <Border WidthRequest="80"
                    HeightRequest="80"
                    StrokeThickness="0"
                    BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Primary}}">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="40"/>
                </Border.StrokeShape>
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnForwardGameClicked"/>
                </Border.GestureRecognizers>
                <Label Text="Continue" 
                       TextColor="White"
                       FontSize="12"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"
                       HorizontalTextAlignment="Center"
                       SemanticProperties.Hint="move the week forward by one"/>
            </Border>
            
            <!-- Right Column: Jobs (top) and Quests (bottom) -->
            <VerticalStackLayout Spacing="10" HorizontalOptions="Center">
                <!-- Jobs Button -->
                <VerticalStackLayout Spacing="5" HorizontalOptions="Center">
                    <Border WidthRequest="25"
                            HeightRequest="25"
                            StrokeThickness="0"
                            BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Primary}}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="12.5"/>
                        </Border.StrokeShape>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnJobsClicked"/>
                        </Border.GestureRecognizers>
                    </Border>
                    <Label Text="Jobs" 
                           FontSize="10"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"/>
                </VerticalStackLayout>
                
                <!-- Quests Button -->
                <VerticalStackLayout Spacing="5" HorizontalOptions="Center">
                    <Border WidthRequest="25"
                            HeightRequest="25"
                            StrokeThickness="0"
                            BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Primary}}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="12.5"/>
                        </Border.StrokeShape>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnQuestsClicked"/>
                        </Border.GestureRecognizers>
                    </Border>
                    <Label Text="Quests" 
                           FontSize="10"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"/>
                </VerticalStackLayout>
            </VerticalStackLayout>
            
        </HorizontalStackLayout>
    </VerticalStackLayout>
</ContentPage>